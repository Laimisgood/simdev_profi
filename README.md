# Развертывание сайта

1. Создать новый локальный сайт sim.devel
2. `git init` в папке локального сайта sim.devel
3. `git pull https://github.com/Laimisgood/simdev_profi.git sd-dev` в папке локального сайта
4. Cоздать новую БД - `"simdev"`
5. Создать нового пользователя БД и предоставить все привелегии на новую БД `"simdev"`, или использовать существующего пользователя БД, который имеет глобальные привелегии ко всем БД
6. В БД `"simdev"` залить дамп `"simdev_store.sql"` из папки локального сайта `sim.devel "var/backups/"`
7. Скопировать `config.local.php`, прикрепленный в Jira `https://simtechdev.atlassian.net/browse/SCHOOL-415`, в корневую папку локального сайта `sim.devel`
8. В `config.local.php`, изменить переменные `$config['db_user'] = 'db_user' и $config['db_password'] = 'db_password'` на вашего пользователя БД
9. Сайт готов, необходимо перейти по ссылке `http://sim.devel`

# Настройка модуля

1. Склонировать репозиторий cs-cart/sdk `https://github.com/cscart/sdk`
2. В папке `cs-cart/sdk` установить sdk с помощью двух комманд: `composer install` и `composer global require "cscart/sdk:*"`
3. Прокинуть symlink с помощью команды `cscart-sdk addon:symlink [options] department_s <addon-directory> <cart-directory>`
4. Открыть сайт `http://sim.devel` пройти авторизацию под администратором: `email: admin@example.com` `password: admin`
5. Перейти в `Панель администратора->Модули->Управление модулями`, далее найти модуль с названием `Simtech Development: Отделы` и нажать кнопку `Установить`
6. После установки модуля залить демо данные отделов `"demo_data.sql"` из папки локального сайта `sim.devel` `var/backups`


# Работа с сайтом

4. Для проверки работы, нужно навести мышь на меню `"Покупатели"` и нажать на `"Отделы"`, так вы попадете в управление отделами
5. В правом верхнем углу, есть кнопка для создания отдела. Для редактирования отдела вам стоит просто нажать на название или картинку существующего отдела
6. После введения всех нужных данных нажимаем `"Сохранить"` и видим как все данные успешно сохранились.
7. Далее перейдем в витрину, для этого нужно будет перейти `"Покупатели" -> "Покупатели"` и нажать на шестеренку на любого из пользователей, далее выбрать "Войти как пользователь", вас перебросит на сайт под профилем выбранного покупателя.
8. Чтобы попасть на витрину отделов, нужно нажать на `"Мой профиль"` и выбрать меню `"Отделы"`
9. Все активные отделы выведены на страничке витрины`(можно проверить поменяв статус отдела на "Выкл")`, нажав на любую из них, вы перейдете в отдел с некоторой информацией о нем